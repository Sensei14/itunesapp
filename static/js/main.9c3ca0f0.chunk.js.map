{"version":3,"sources":["Song.js","Itunes.js","App.js","index.js"],"names":["Song","props","className","src","info","artworkUrl100","alt","trackName","artistName","controls","previewUrl","type","trackViewUrl","Itunes","state","songs","phrase","loaded","found","currentPage","songsPerPage","handlePage","number","length","setState","handleSearch","e","preventDefault","toUpperCase","url","fetch","headers","then","response","json","res","results","handleChange","target","name","value","pagination","onClick","currentLast","this","currentFirst","slice","map","song","key","trackId","onSubmit","placeholder","onChange","Component","App","ReactDOM","render","document","getElementById"],"mappings":"2TAuBeA,EArBF,SAAAC,GACX,OACE,yBAAKC,UAAU,QACb,yBAAKA,UAAU,aACb,yBAAKC,IAAKF,EAAMG,KAAKC,cAAeC,IAAI,eACxC,6BACE,8BAAOL,EAAMG,KAAKG,WAClB,6BACA,8BAAON,EAAMG,KAAKI,cAGtB,6BACE,2BAAOC,UAAQ,GACb,4BAAQN,IAAKF,EAAMG,KAAKM,WAAYC,KAAK,eACzC,4BAAQR,IAAKF,EAAMG,KAAKQ,aAAcD,KAAK,kBC+FtCE,G,iNA1GbC,MAAQ,CACNC,MAAO,GACPC,OAAQ,GACRC,QAAQ,EACRC,OAAO,EACPC,YAAa,EACbC,aAAc,G,EAwChBC,WAAa,SAAAC,GACX,IAAIH,EAAc,EAAKL,MAAMK,YAAcG,EACvCH,EAAc,IAAGA,EAAc,GAEjCA,EAAc,EAAKL,MAAMM,aACzB,EAAKN,MAAMC,MAAMQ,OAAS,EAAKT,MAAMM,eAErCD,GAA4BG,GAC9B,EAAKE,SAAS,CACZL,iB,EAIJM,aAAe,SAAAC,GACbA,EAAEC,iBACF,EAAKH,SAAS,CACZP,QAAQ,EACRC,OAAO,EACPC,YAAa,IAEf,IAAIH,EAAS,EAAKF,MAAME,OAAOY,cAEhB,KAAXZ,IACFA,EAAS,KAGX,IAAMa,EAAG,+CAA2Cb,EAA3C,gBAETc,MAAMD,EAAK,CACTE,QAAS,CACP,8BAA+B,OAGhCC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACAA,EAAIC,QAAQb,OAAS,EACvB,EAAKC,SAAS,CACZT,MAAOoB,EAAIC,QACXnB,QAAQ,EACRC,OAAO,IAGT,EAAKM,SAAS,CACZT,MAAOoB,EAAIC,QACXnB,QAAQ,EACRC,OAAO,Q,EAMjBmB,aAAe,SAAAX,GAAM,IAAD,EACMA,EAAEY,OAAlBC,EADU,EACVA,KAAMC,EADI,EACJA,MAEd,EAAKhB,SAAL,eACGe,EAAOC,K,wEA7FF,IAAD,OACDC,EACJ,yBAAKvC,UAAU,cACb,4BAAQwC,QAAS,kBAAM,EAAKrB,YAAY,KAAxC,UACA,4BAAQqB,QAAS,kBAAM,EAAKrB,WAAW,KAAvC,UAGEsB,EAAcC,KAAK9B,MAAMK,YAAcyB,KAAK9B,MAAMM,aAClDyB,EAAeF,EAAcC,KAAK9B,MAAMM,aAC1CL,EAAK,YAAO6B,KAAK9B,MAAMC,OAG3B,OADAA,GADAA,EAAQA,EAAM+B,MAAMD,EAAcF,IACpBI,KAAI,SAAAC,GAAI,OAAI,kBAAC,EAAD,CAAMC,IAAKD,EAAKE,QAAS9C,KAAM4C,OAEvD,yBAAK9C,UAAU,UACb,yFACA,0BAAMiD,SAAUP,KAAKnB,cACnB,6BACE,2BACEd,KAAK,OACLyC,YAAY,qBACZZ,MAAOI,KAAK9B,MAAME,OAClBqC,SAAUT,KAAKP,aACfE,KAAK,YAGT,6BACE,8CAGHK,KAAK9B,MAAMG,OAAS,KAAO,2CAC5B,yBAAKf,UAAU,SACZ0C,KAAK9B,MAAMI,MAAQ,oCAAGH,GAAY,kDAEpC6B,KAAK9B,MAAMC,MAAMQ,OAAS,EAAI,oCAAGkB,GAAiB,U,GA1CtCa,cCQNC,MARf,WACE,OACE,yBAAKrD,UAAU,OACb,kBAAC,EAAD,QCFNsD,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.9c3ca0f0.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Song = props => {\r\n  return (\r\n    <div className=\"song\">\r\n      <div className=\"trackInfo\">\r\n        <img src={props.info.artworkUrl100} alt=\"No artwork\" />\r\n        <div>\r\n          <span>{props.info.trackName}</span>\r\n          <hr />\r\n          <span>{props.info.artistName}</span>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <audio controls>\r\n          <source src={props.info.previewUrl} type=\"audio/mpeg\" />\r\n          <source src={props.info.trackViewUrl} type=\"audio/ogg\" />\r\n        </audio>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Song;\r\n","import React, { Component } from \"react\";\r\nimport Song from \"./Song\";\r\nimport \"./itunes.css\";\r\n\r\nclass Itunes extends Component {\r\n  state = {\r\n    songs: [],\r\n    phrase: \"\",\r\n    loaded: true,\r\n    found: true,\r\n    currentPage: 1,\r\n    songsPerPage: 9\r\n  };\r\n  render() {\r\n    const pagination = (\r\n      <div className=\"pagination\">\r\n        <button onClick={() => this.handlePage(-1)}>Wstecz</button>\r\n        <button onClick={() => this.handlePage(1)}>Dalej</button>\r\n      </div>\r\n    );\r\n    const currentLast = this.state.currentPage * this.state.songsPerPage;\r\n    const currentFirst = currentLast - this.state.songsPerPage;\r\n    let songs = [...this.state.songs];\r\n    songs = songs.slice(currentFirst, currentLast);\r\n    songs = songs.map(song => <Song key={song.trackId} info={song} />);\r\n    return (\r\n      <div className=\"itunes\">\r\n        <p>Wyszukuj utwory po tytule, autorze, tek≈õcie piosenki.</p>\r\n        <form onSubmit={this.handleSearch}>\r\n          <div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Szukaj piosenki...\"\r\n              value={this.state.phrase}\r\n              onChange={this.handleChange}\r\n              name=\"phrase\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <button>Wyszukaj</button>\r\n          </div>\r\n        </form>\r\n        {this.state.loaded ? null : <span>Szukam...</span>}\r\n        <div className=\"songs\">\r\n          {this.state.found ? <>{songs}</> : <span>Nie znaleziono.</span>}\r\n        </div>\r\n        {this.state.songs.length > 0 ? <>{pagination}</> : null}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handlePage = number => {\r\n    let currentPage = this.state.currentPage + number;\r\n    if (currentPage < 1) currentPage = 1;\r\n    if (\r\n      currentPage * this.state.songsPerPage >\r\n      this.state.songs.length + this.state.songsPerPage\r\n    )\r\n      currentPage = currentPage - number;\r\n    this.setState({\r\n      currentPage\r\n    });\r\n  };\r\n\r\n  handleSearch = e => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      loaded: false,\r\n      found: true,\r\n      currentPage: 1\r\n    });\r\n    let phrase = this.state.phrase.toUpperCase();\r\n\r\n    if (phrase === \"\") {\r\n      phrase = \" \";\r\n    }\r\n\r\n    const url = `https://itunes.apple.com/search?term=${phrase}&entity=song`;\r\n\r\n    fetch(url, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n      .then(response => response.json())\r\n      .then(res => {\r\n        if (res.results.length > 0) {\r\n          this.setState({\r\n            songs: res.results,\r\n            loaded: true,\r\n            found: true\r\n          });\r\n        } else {\r\n          this.setState({\r\n            songs: res.results,\r\n            loaded: true,\r\n            found: false\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  handleChange = e => {\r\n    const { name, value } = e.target;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n}\r\n\r\nexport default Itunes;\r\n","import React from \"react\";\nimport \"./App.css\";\nimport Itunes from \"./Itunes\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Itunes />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}